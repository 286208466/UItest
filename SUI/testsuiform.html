<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>sui-form校验</title>
		<meta name="viewport" content="initial-scale=1, maximum-scale=1">
		<link rel="shortcut icon" href="/favicon.ico">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<link rel="stylesheet" href="lib/sm.min.css">
		<link rel="stylesheet" href="lib/sm-extend.min.css">
	</head>

	<body>
		<div class="page">
			<div class="content">
				<div class="content-padded">
					<h1>使用jquery.validate-表单校验</h1>
				</div>
				<form id="validate_test">
					<div class="list-block">
						<ul>
							<!-- Text inputs -->
							<li>
								<div class="item-content">
									<div class="item-media"><i class="icon icon-form-name"></i></div>
									<div class="item-inner">
										<div class="item-title label">姓名</div>
										<div class="item-input">
											<input type="text" name="name" placeholder="Your name">
										</div>
									</div>
								</div>
							</li>
							<li>
								<div class="item-content">
									<div class="item-media"><i class="icon icon-form-email"></i></div>
									<div class="item-inner">
										<div class="item-title label">邮箱</div>
										<div class="item-input">
											<input type="email" name="email" placeholder="E-mail">
										</div>
									</div>
								</div>
							</li>
							<li>
								<div class="item-content">
									<div class="item-media"><i class="icon icon-form-password"></i></div>
									<div class="item-inner">
										<div class="item-title label">密码</div>
										<div class="item-input">
											<input type="password" name="pwd" placeholder="Password" class="">
										</div>
									</div>
								</div>
							</li>
							<li>
								<div class="item-content">
									<div class="item-media"><i class="icon icon-form-gender"></i></div>
									<div class="item-inner">
										<div class="item-title label">性别</div>
										<div class="item-input">
											<select name="sex">
					                <option>Male</option>
					                <option>Female</option>
					              </select>
										</div>
									</div>
								</div>
							</li>
							<!-- Date -->
							<li>
								<div class="item-content">
									<div class="item-media"><i class="icon icon-form-calendar"></i></div>
									<div class="item-inner">
										<div class="item-title label">生日</div>
										<div class="item-input">
											<input type="date" name="datee" id="datee" placeholder="Birth day" value="">
										</div>
									</div>
								</div>
							</li>
							<!-- Switch (Checkbox) -->
							<li>
								<div class="item-content">
									<div class="item-media"><i class="icon icon-form-toggle"></i></div>
									<div class="item-inner">
										<div class="item-title label">开关</div>
										<div class="item-input">
											<label class="label-switch">
					                <input type="checkbox">
					                <div class="checkbox"></div>
					              </label>
										</div>
									</div>
								</div>
							</li>
							<li>
								<div class="item-content">
									<div class="item-media"><i class="icon icon-form-calendar"></i></div>
									<div class="item-inner">
										<div class="item-title label">地址</div>
										<div class="item-input">
											<input type="text" name="cp" id="cp" placeholder="地址" value="">
											<input type="hidden" name="province"  value="">
											<input type="hidden" name="city"  value="">
											<input type="hidden" name="county" value="">
										</div>
									</div>
								</div>
							</li>
							<li class="align-top">
								<div class="item-content">
									<div class="item-media"><i class="icon icon-form-comment"></i></div>
									<div class="item-inner">
										<div class="item-title label">文本域</div>
										<div class="item-input">
											<textarea></textarea>
										</div>
									</div>
								</div>
							</li>
							<li class="align-top">
								 <div id="" class="row">
								 	<div class="col-50"><a href="javascript:void(0);" onclick="$.popup('#popupcustomer');" class="button button-big button-fill button-danger">添加客户</a></div>
        							<div class="col-50"><a href="javascript:void(0);" onclick="$.popup('#popupcontact');" class="button button-big button-fill button-success">添加联系人</a></div>	
								 </div>
							</li>
						</ul>
					</div>

					<div class="content-block">
						<div class="row">
							<div class="col-50"><button class="button button-big button-fill button-danger" onclick="tip();">取消</button></div>
							<div class="col-50"><button class="button button-big button-fill button-success">提交</button></div>
						</div>
					</div>
				</form>
			</div>

		</div>
		
		<div id="popupcustomer" class="popup popup-about">
		  <div class="content-block">
		    <p>添加客户</p>
		    <p><a href="#" class="close-popup">关闭</a></p>
		    <li>
				<div class="item-content">
					<div class="item-media"><i class="icon icon-form-name"></i></div>
					<div class="item-inner">
						<div class="item-title label">姓名</div>
						<div class="item-input">
							<input type="text" name="name" placeholder="Your name">
						</div>
					</div>
				</div>
			</li>
			<li>
				<div class="item-content">
					<div class="item-media"><i class="icon icon-form-email"></i></div>
					<div class="item-inner">
						<div class="item-title label">邮箱</div>
						<div class="item-input">
							<input type="email" name="email" placeholder="E-mail">
						</div>
					</div>
				</div>
			</li>
		  </div>
		</div>
		
		<div id="popupcontact" class="popup popup-about">
		  <div class="content-block">
		    <p>添加联系人</p>
		    <p><a href="#" class="close-popup">关闭</a></p>
		    <form id="validate_popup_test">
		    	<li>
					<div class="item-content">
						<div class="item-media"><i class="icon icon-form-name"></i></div>
						<div class="item-inner">
							<div class="item-title label">姓名</div>
							<div class="item-input">
								<input type="text" name="name" placeholder="Your name">
							</div>
						</div>
					</div>
				</li>
				<li>
					<div class="item-content">
						<div class="item-media"><i class="icon icon-form-email"></i></div>
						<div class="item-inner">
							<div class="item-title label">手机</div>
							<div class="item-input">
								<input type="text" name="phone" placeholder="email">
							</div>
						</div>
					</div>
				</li><li>
					<div class="item-content">
						<div class="item-media"><i class="icon icon-form-name"></i></div>
						<div class="item-inner">
							<div class="item-title label">姓名</div>
							<div class="item-input">
								<input type="text" name="name" placeholder="Your name">
							</div>
						</div>
					</div>
				</li>
				<li>
					<div class="item-content">
						<div class="item-media"><i class="icon icon-form-email"></i></div>
						<div class="item-inner">
							<div class="item-title label">手机</div>
							<div class="item-input">
								<input type="text" name="phone" placeholder="email">
							</div>
						</div>
					</div>
				</li>
				<li>
					<div class="item-content">
						<div class="item-media"><i class="icon icon-form-name"></i></div>
						<div class="item-inner">
							<div class="item-title label">姓名</div>
							<div class="item-input">
								<input type="text" name="custestname" placeholder="Your name">
							</div>
						</div>
					</div>
				</li>
				<li>
					<div class="item-content">
						<div class="item-media"><i class="icon icon-form-email"></i></div>
						<div class="item-inner">
							<div class="item-title label">手机</div>
							<div class="item-input">
								<input type="text" name="custestphone" placeholder="email">
							</div>
						</div>
					</div>
				</li>
				<li>
					<div class="item-content">
						<div class="item-media"><i class="icon icon-form-name"></i></div>
						<div class="item-inner">
							<div class="item-title label">姓名</div>
							<div class="item-input">
								<input type="text" name="contestname" placeholder="Your name">
							</div>
						</div>
					</div>
				</li>
				<li>
					<div class="item-content">
						<div class="item-media"><i class="icon icon-form-email"></i></div>
						<div class="item-inner">
							<div class="item-title label">手机</div>
							<div class="item-input">
								<input type="text" name="contestphone" placeholder="email">
							</div>
						</div>
					</div>
				</li>
		    </form>
		  </div>
		</div>
		
	</body>
	<!-- 你的html代码 -->

	<script src="lib/zepto.min.js"></script>

	<script src="../agile/assets/third/jquery/jquery-2.1.3.js" type="text/javascript" charset="utf-8"></script>
	<script>
		var jq = $.noConflict();
	</script>
	<script src="../bootstrap/jquery.validate/vendor/jquery.validate-1.13.1.js" type="text/javascript" charset="utf-8"></script>
	<script src="../bootstrap/jquery.validate/vendor/additional-methods.js" type="text/javascript" charset="utf-8"></script>

	<script src="lib/sm.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="lib/sm-extend.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="lib/sm-city-picker.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="lib/jquery.cityselect.js" type="text/javascript" charset="utf-8"></script>

	<script type="text/javascript">
		$(function() {
			//			jq("#cityselect").citySelect({  
			//			    url:"lib/city.min.js",  
			//			    prov:"湖南", //省份 
			//			    city:"长沙", //城市 
			//			    dist:"岳麓区", //区县 
			//			    nodata:"none" //当子集无数据时，隐藏select 
			//			});  
			
			jq("#validate_popup_test").validate({
				rules: {
					"custestname": {
						//限制必须填写
						required: true,
						maxlength: 3
							//			                    postcode : "中国"
					},
					"custestphone": {
						required: true,
						minlength: 2,
						maxlength: 16
					}
				},
				messages: {
					"custestname": {
						required: "必须填写用户名",
						maxlength: "最长三位",
						remote: "用户名不存在"
					},
					"custestphone": {
						required: "必须填写密码",
						minlength: "密码最小为2位",
						maxlength: "密码最大为16位"
					}
				},
				submitHandler: function(form) {
				}
			});
			
			$("#cp").cityPicker({
			    toolbarTemplate: '<header class="bar bar-nav">\
			    <button class="button button-link pull-right close-picker">确定</button>\
			    <h1 class="title">选择地址</h1>\
			    </header>'
			});
			
			
			$("#datee").calendar({
			    value: ['2016-04-21'],
			    inputReadOnly:false,
			    minDate:"2016-03",
			    maxDate:"2016-05",
			    onChange:function(p, values, displayValues){
			    	console.log(values);
			    	console.log(displayValues);
			    },
			    onOpen:function(p){
			    	console.log("打开");
			    },
			    onClose:function(p){
			    	console.log("关闭");
			    }
			});
			
			
			jq("#cityselect").citySelect({
				url: "lib/city.min.js",
				prov: "湖南"
			});
			
			jq("#validate_test").validate({
				rules: {
					"name": {
						//限制必须填写
						required: true,
						maxlength: 3
							//			                    postcode : "中国"
					},
					"pwd": {
						required: true,
						minlength: 2,
						maxlength: 16
					},
					"email": {
						required: true,
						email: true
					},
					"datee":{
						required:true
					},
					"cp":{
						required:true
					}
				},
				messages: {
					"name": {
						required: "必须填写用户名",
						maxlength: "最长三位",
						remote: "用户名不存在"
					},
					"pwd": {
						required: "必须填写密码",
						minlength: "密码最小为2位",
						maxlength: "密码最大为16位"
					},
					"email": {
						required:"请填写邮件",
						email: "请输入正确的邮箱帐号"
					},
					"datee":{
						"required":"请选择生日"
					},
					"cp":{
						required:"请选择地址"
					}
				},
				submitHandler: function(form) {
					var cps=jq("#cp").val().split(" ");
					jq("input[name='province']").val(cps[0]);
					jq("input[name='city']").val(cps[1]);
					jq("input[name='county']").val(cps[2]);
					$.showPreloader("保存中...");
					setTimeout(function() {
						$.hidePreloader();
					}, 2000);
					$.toast($(form).serialize());
					console.log($(form).serialize());
				}
			});
		});

		function test() {
			alert($("#picker-name").val());
		}

		function tip() {
			$.toast("tip");
		}
	</script>

</html>