<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>mouse</title>
		<script src="//cdn.bootcss.com/randomcolor/0.4.4/randomColor.min.js"></script>
		<script type="text/javascript">
			window.onload=function(){
				(function(){
					var create_div_size=100;
					for(var i=0;i<create_div_size;i++){
						var div=document.createElement("div");
						div.style="width: 20px;height: 20px;border-radius: 50%;position:absolute;background:"+randomColor();
						document.body.appendChild(div);	
					}
				})();
				var follow_mouse_tip=document.getElementById("follow_mouse_tip");
				var divs=document.getElementsByTagName("div");
				var size=divs.length;
				document.onmousemove=function(e){
//					(function(){
//						var event=e||event;
//						var scrollleft = document.documentElement.scrollLeft || document.body.scrollLeft;
//	  					var scrolltop = document.documentElement.scrollTop || document.body.scrollTop;
//						follow_mouse_tip.style.left=event.clientX+scrollleft+"px";
//						follow_mouse_tip.style.top=event.clientY+scrolltop+"px";
//						console.log("event.clientX:%s,event.clientY:%s,scrollleft:%s,scrolltop:%s",event.clientX,event.clientY,scrollleft,scrolltop);
//					})();
					(function(){
						var event=e||event;
						var scrollleft = document.documentElement.scrollLeft || document.body.scrollLeft;
	  					var scrolltop = document.documentElement.scrollTop || document.body.scrollTop;
						if(!size){
							return ;
						}
						for(var i=size-1;i>0;i--){
							divs[i].style.left=divs[i-1].offsetLeft+"px";
							divs[i].style.top=divs[i-1].offsetTop+"px";
						}
						divs[0].style.left=event.clientX+scrollleft+"px";
						divs[0].style.top=event.clientY+scrolltop+"px";
					})();
				}
			}
		</script>
	</head>
	<body>
		<!--<div id="follow_mouse_tip" style="width: 50px;height: 50px;border-radius: 50%;position:absolute;background: #00DDFF;">follow</div>-->
	</body>
</html>
